<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantom Docs</title>
    <link rel="icon" href="/images/favicon/favicon.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/components/css/variables.css">
    <link rel="stylesheet" href="/docs/css/docs-header.css">
    <link rel="stylesheet" href="/docs/css/docs.css">
    <link rel="stylesheet" href="/docs/css/docs-components.css">
    <link rel="stylesheet" href="/docs/css/docs-search.css">
    <link rel="stylesheet" href="/docs/css/docs-footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
</head>
<body>
    <header></header>

    <main class="docs-container">
        <!-- Product Overview Grid (shown when no product selected) -->
        <div id="product-overview" class="product-grid" style="display: none;">
            <!-- Dynamically populated with product cards -->
        </div>

        <aside class="sidebar-left">
            <!-- Search Button (moved from header to sidebar) -->
            <button id="docs-search-btn" class="docs-search-button-sidebar" title="Search documentation (⌘K)" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Search</span>
                <span class="search-shortcut">⌘K</span>
            </button>

            <!-- Super-Category Selector -->
            <div id="super-category-selector" class="super-category-selector" style="display: none;">
                <button id="super-category-btn" class="super-category-button">
                    <span class="super-category-name">Super Category Name</span>
                    <i class="fas fa-chevron-down super-category-icon"></i>
                </button>
                <div id="super-category-dropdown" class="super-category-dropdown">
                    <!-- Dynamically populated -->
                </div>
            </div>

            <!-- Product Selector (only shown on mobile when multiple products exist) -->
            <div id="mobile-product-selector" class="mobile-product-selector" style="display: none;">
                <button id="product-selector-btn" class="product-selector-button">
                    <i class="fas fa-cube"></i>
                    <span id="current-product-name">Select Product</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div id="product-selector-dropdown" class="product-selector-dropdown" style="display: none;">
                    <!-- Products will be dynamically loaded here -->
                </div>
            </div>

            <!-- Navigation content will be dynamically generated by JavaScript -->
        </aside>

        <div class="content-container">
            <div class="content-columns">
                <article class="main-content">
                <!-- Page Header Controls: Category Display + Split Button -->
                <div id="page-header-controls" class="page-header-controls" style="display: none;">
                    <div class="category-display">
                        <span id="current-category-name" class="category-name"></span>
                        <span id="current-markdown-name" class="markdown-name"></span>
                    </div>
                    <div class="split-button-container">
                        <button id="main-copy-btn" class="split-button-main" aria-label="Copy page as markdown">
                            <i class="fa-regular fa-copy"></i>
                            <span>Copy Page</span>
                        </button>
                        <div class="split-button-divider"></div>
                        <button id="split-button-arrow" class="split-button-arrow" aria-label="Show more options" aria-expanded="false">
                            <i class="fa-solid fa-chevron-down"></i>
                        </button>
                        <div id="split-button-dropdown" class="split-button-dropdown" role="menu" style="display: none;">
                            <div class="dropdown-item" role="menuitem" id="dropdown-copy">
                                <i class="fa-regular fa-copy"></i>
                                <div class="dropdown-item-text">
                                    <div class="dropdown-item-label">Copy Page</div>
                                    <div class="dropdown-item-description">Copy page as Markdown for LLMs</div>
                                </div>
                            </div>
                            <div class="dropdown-item" role="menuitem" id="dropdown-view">
                                <svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 shrink-0">
                                <path
                                    d="M15.25 3.75H2.75C1.64543 3.75 0.75 4.64543 0.75 5.75V12.25C0.75 13.3546 1.64543 14.25 2.75 14.25H15.25C16.3546 14.25 17.25 13.3546 17.25 12.25V5.75C17.25 4.64543 16.3546 3.75 15.25 3.75Z M8.75 11.25V6.75H8.356L6.25 9.5L4.144 6.75H3.75V11.25 M11.5 9.5L13.25 11.25L15 9.5 M13.25 11.25V6.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div class="dropdown-item-text">
                                    <div class="dropdown-item-label">View as Markdown</div>
                                    <div class="dropdown-item-description">View this page as plain text</div>
                                </div>
                            </div>
                            <div class="dropdown-item" role="menuitem" id="dropdown-download">
                                <i class="fa-solid fa-download"></i>
                                <div class="dropdown-item-text">
                                    <div class="dropdown-item-label">Download Page</div>
                                    <div class="dropdown-item-description">Download this page as markdown</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="dynamic-content-area" class="markdown-body">
                    <!-- Markdown content will be loaded here -->
                </div>

                <!-- NEUEN CONTAINER HIER HINZUFÜGEN -->
                <div id="page-navigation-wrapper">
                    <!-- Previous/Next page links will be generated here by JavaScript -->
                </div>
                </article>

                <aside class="sidebar-right">
                    <h4>
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2.44434 12.6665H13.5554M2.44434 3.3335H13.5554M2.44434 8H7.33323" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        On this page
                    </h4>
                    <ul>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </aside>
            </div>
        </div>

        <div id="mobile-right-sidebar-menu" class="mobile-right-sidebar-menu">
            <div class="mobile-right-sidebar-header">
                <h4>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.44434 12.6665H13.5554M2.44434 3.3335H13.5554M2.44434 8H7.33323" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    On this page
                </h4>
                <button id="mobileRightSidebarCloseBtn" class="close-btn"><i class="fas fa-times"></i></button>
            </div>
            <div class="mobile-right-sidebar-content">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Docs scripts are loaded dynamically by lazy-loader.js -->

    <div id="mobile-sidebar-overlay"></div>

    <!-- Search Popup Overlay -->
<div id="docs-search-overlay" class="docs-search-overlay">
    <div id="docs-search-popup" class="docs-search-popup">
        <!-- Search Input Container -->
        <div class="docs-search-input-container">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="docs-search-icon">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.3-4.3"></path>
            </svg>
            <input
                type="text"
                id="docs-search-input"
                class="docs-search-input"
                placeholder="Search documentation..."
                autocomplete="off"
            >
        </div>

        <!-- Search Results Container -->
        <div id="docs-search-results" class="docs-search-results visible">
            <!-- Beispiel für eine Kategorie -->
            <div class="docs-result-category">Recent Searches</div>
            
        </div>
    </div>
</div>

    <!-- Markdown View Modal -->
    <div id="markdown-view-modal" class="markdown-view-modal" style="display: none;">
        <div class="markdown-view-overlay"></div>
        <div class="markdown-view-content">
            <div class="markdown-view-header">
                <h3>Markdown Source</h3>
                <button id="markdown-view-close" class="markdown-view-close-btn" aria-label="Close modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="markdown-view-body">
                <pre id="markdown-view-text" class="markdown-view-pre"></pre>
            </div>
        </div>
    </div>

    <!-- Prism.js core loaded eagerly (needed for code blocks) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

    <!-- Docs Footer Module -->
    <script type="module" src="/docs/js/docs-footer.js"></script>

    <script src="/components/js/lazy-loader.js"></script>

    <!-- Docs Utilities (common utils) -->
    <script type="module" src="/docs/js/docs-utils.js"></script>

    <!-- Docs Header Module (loaded after lazy-loader) -->
    <script src="/docs/js/docs-header.js"></script>

    <!-- Docs Sidebars Module -->
    <script src="/docs/js/docs-sidebars.js"></script>

    <!-- Initialize docs page with lazy loading -->
    <script>

        // Docs page initialization mit lazy loading
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Initialize header first
                if (window.DocsHeader && typeof window.DocsHeader.init === 'function') {
                    await window.DocsHeader.init();
                }

                // Initialize sidebars after header is ready
                setTimeout(() => {
                    if (window.DocsSidebars && typeof window.DocsSidebars.init === 'function') {
                        window.DocsSidebars.init();
                    }
                }, 300);

                // Show search button in sidebar
                const sidebarSearchBtn = document.getElementById('docs-search-btn');
                if (sidebarSearchBtn) {
                    sidebarSearchBtn.style.display = 'flex';
                }

                // Lade alle notwendigen Module für die Docs-Seite
                await window.LazyLoader.loadDocsModules();

                // Initialisiere die Docs-Seite (wird von docs-products.js bereitgestellt)
                if (typeof initDocsPage === 'function') {
                    initDocsPage();
                }
            } catch (error) {
                console.error('Failed to initialize docs page:', error);
            }
        });

        // Lazy load search when search button is clicked
        let searchInitialized = false;
        document.addEventListener('click', async (e) => {
            const searchBtn = e.target.closest('#docs-search-btn');
            if (searchBtn && !searchInitialized) {
                try {
                    await window.LazyLoader.loadSearchModule();
                    searchInitialized = true;

                    // Trigger search popup öffnen
                    if (typeof openDocsSearchPopup === 'function') {
                        openDocsSearchPopup();
                    }
                } catch (error) {
                    console.error('Failed to initialize search:', error);
                }
            }
        });

        // CMD/CTRL + K für Search
        document.addEventListener('keydown', async (e) => {
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();

                if (!searchInitialized) {
                    try {
                        await window.LazyLoader.loadSearchModule();
                        searchInitialized = true;
                    } catch (error) {
                        console.error('Failed to initialize search:', error);
                        return;
                    }
                }

                if (typeof openDocsSearchPopup === 'function') {
                    openDocsSearchPopup();
                }
            }
        });
    </script>
</body>
</html>
